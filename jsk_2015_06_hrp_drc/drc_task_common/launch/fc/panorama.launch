<launch>
  <arg name="INPUT_IMAGE" default="/multisense/left/image_rect_color"/>
  <arg name="INPUT_CAMERA_INFO" default="/multisense/left/camera_info"/>
  <arg name="INPUT_POINT_CLOUD" default="/multisense/resize_1_1/points" />
  <arg name="DEBUG_VIEW" default="true" />

  <node pkg="jsk_pcl_ros" type="intermittent_image_annotator" name="panorama_processing">
    <remap from="~input/image" to="$(arg INPUT_IMAGE)" />
    <remap from="~input/camera_info" to="$(arg INPUT_CAMERA_INFO)" />
    <remap from="~input/cloud" to="$(arg INPUT_POINT_CLOUD)" />
    <rosparam>
      fixed_frame_id: odom_on_ground
      store_pointcloud: false
      keep_organized: true
    </rosparam>
  </node>
  <node pkg="image_view" type="image_view" name="panorama_view" if="$(arg DEBUG_VIEW)">
    <remap from="image" to="panorama_processing/output" />
  </node>
</launch>
