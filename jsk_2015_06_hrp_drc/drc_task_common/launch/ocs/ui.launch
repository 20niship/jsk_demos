<launch>
  <!-- REQUIRED: INPUT_IMAGE input image topic -->
  <arg name="INPUT_IMAGE" />
  <node pkg="rqt_gui" type="rqt_gui" name="rqt_image_view_button"
        args="--perspective-file $(find jsk_rqt_plugins)/resource/rqt_image_view2_button.perspective">
    <remap from="event" to="rqt_image_view2_engine/event" />
    <remap from="image_marked" to="rqt_image_view2_engine/image_marked" />
    <rosparam>
      layout_file: "package://drc_task_common/config/ocs_ui_button_layout.yaml"
    </rosparam>
  </node>

  <node pkg="image_view2" type="image_view2" name="rqt_image_view2_engine"
        output="log">
    <remap from="image_marked" to="~image_marked" />
    <remap from="image" to="$(arg INPUT_IMAGE)" />
    <param name="use_window" value="false" />
  </node>

  <!-- visualize state -->
  <node pkg="image_view" type="image_view" name="state_viewer">
    <remap from="image" to="state_image"/>
  </node>
  <node pkg="jsk_perception" type="image_publisher.py" name="state_image_publisher" respawn="true">
    <remap from="~output" to="state_image"/>
    <rosparam>
      file_name: "ocs_state.png"
    </rosparam>
  </node>
</launch>

